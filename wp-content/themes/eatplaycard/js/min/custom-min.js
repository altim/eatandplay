jQuery(document).ready(function($){function e(e,n){$(".alert").addClass("alert-danger"),$(".alert").removeClass("alert-success"),$(".alert p").empty(),$(".alert p").html(n),setTimeout(function(){$(".alert").slideDown(400)},800)}function n(){$(".alert").slideUp(0),$("input[name=firstname]").removeClass("inputError"),$("input[name=lastname]").removeClass("inputError"),$("input[name=address]").removeClass("inputError"),$("input[name=city]").removeClass("inputError"),$("input[name=zip]").removeClass("inputError"),$("input[name=phone]").removeClass("inputError"),$("input[name=email]").removeClass("inputError"),$("input[name=verifyemail]").removeClass("inputError"),$("input[name=state]").removeClass("inputError"),$("[name=cc-exp-month]").removeClass("inputError"),$("[name=cc-name]").removeClass("inputError"),$("[name=cc-code]").removeClass("inputError"),$("[name=cc-number]").removeClass("inputError")}function t(){n();var t=!1;if(1==s("input[name=firstname]"))if(1==r("input[name=firstname]"))if(1==s("input[name=lastname]"))if(1==r("input[name=lastname]"))if(1==s("input[name=address]"))if(1==s("input[name=city]")){var i=$(".dropdown-select-country").data("selected");if("Select Country"!=i){var o=$(".dropdown-us-states").data("selected"),l=$(".dropdown-canada-states").data("selected");if(1==s("input[name=state]")||""!=o||""!=l)if(1==s("input[name=zip]"))if(1==a("input[name=email]"))if($("input[name=email]").val()==$("input[name=verifyemail]").val())if($(".btn-email").hasClass("selected")||$(".btn-traditional-mail").hasClass("selected")){var d=(new Date).getMonth()+1,c=(new Date).getFullYear(),p=0;$("[name=cc-exp-year]").val()-c==0&&(p=1);var m=$(".dropdown-select-expiry-month").data("selected");if(m>=d||0==p)if(1==s("input[name=cc-name]"))if(0==r("input[name=cc-number]")){var u=new RegExp("^\\d{16}$");if($("input[name=cc-number]").val().match(u))if(0==r("input[name=cc-code]")){var f=new RegExp("^\\d{3}$");$("input[name=cc-code]").val().match(f)?t=!0:e("[name=cc-code]","Please enter 3 digits for your CVV code.")}else e("[name=cc-code]","Your CVV code can only contains digits.");else e("[name=cc-number]","Please enter 16 digits for your credit card.")}else e("[name=cc-number]","Your credit card can only contains digits.");else e("[name=cc-name]","Please enter a name holder for the credit card.");else e("[name=cc-exp-month]","You credit card has expired that month.")}else e("","Please select delivery option");else e("input[name=verifyemail]","Make sure you verify your email properly, this is where we will send your voucher !");else e("input[name=email]","Please enter a valid email.  hello@example.com");else e("input[name=zip]","Your postal code cannot be emtpy.");else e("input[name=state]","State field cannot be empty.")}else e("[name=country]","Please select a country.")}else e("input[name=city]","Your city cannot be emtpy.");else e("input[name=address]","Your address cannot be emtpy.");else e("input[name=lastname]","Your first name cannot contain numbers.");else e("input[name=lastname]","Your last name cannot be emtpy.");else e("input[name=firstname]","Your first name cannot contain numbers.");else e("input[name=firstname]","Your first name cannot be emtpy.");return t}function a(e){var n=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return!!$(e).val().match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)}function i(e){var n=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;return!!$(e).val().match(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/)}function s(e){return $(e).val().length>0}function r(e){return null==$(e).val().match(/\d+/g)}function o(e){return""!==$(e).data()}$(window).on("scroll",function(){$(window).scrollTop()>10?$("header").addClass("fixed"):$("header").removeClass("fixed")}),$("body").magnificPopup({delegate:".video",type:"iframe",callbacks:{beforeOpen:function(){this.st.mainClass=this.st.el.attr("data-effect")}}}),$(".hero-slider ul").bxSlider({minSlider:1,maxSlides:2,infiniteLoop:!0,touchEnabled:!1,pager:!1,controls:!1,auto:!0,pause:4e3}),$(".logos-slider-owl").owlCarousel({loop:!0,autoWidth:!0,items:10,dots:!1,nav:!0,autoplay:!0,autoplayTimeout:3e3,navContainer:".slider-controls"}),$(".btn-scroll-down").click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:$("#hero-image").height()+28+"px"},800,"swing")}),$(".btn-mobile-menu").on("click",function(e){e.preventDefault(),$("nav").toggleClass("active")}),$(".expand-toggle").on("click",function(e){e.preventDefault();var n=$(this).parent().parent();n.hasClass("open")?n.removeClass("open").find(".merchants-item-body").slideUp(800,"swing"):n.addClass("open").find(".merchants-item-body").slideDown(800,"swing")}),$(".btn-view-all-partners").click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:$("#filter-bar").offset().top-122},800,"swing")}),$(".filter-menu li a").on("click",function(e){var n=$(this).data("type");"pdf"!==n&&(e.preventDefault(),$(".filter-menu li a.active").removeClass("active"),$(this).addClass("active"),$(".merchant-item").hide(),"all"===n?$(".merchant-item").fadeIn(400,"swing"):$(".merchant-item."+n).fadeIn(400,"swing"),$("html,body").animate({scrollTop:$("#filter-bar").offset().top-122},800,"swing"))}),$(".btn-dropdown").on("click",function(e){e.preventDefault(),$(this).parent().hasClass("open")?$(this).parent().removeClass("open").find(".dropdown-menu-wrapper").slideUp(400,"swing",function(){$(this).parent().find(".btn-dropdown").css({"z-index":2}),$(this).css({"z-index":1})}):($(this).parent().find(".btn-dropdown").css({"z-index":12}),$(this).css({"z-index":11}),$(this).parent().addClass("open").find(".dropdown-menu-wrapper").slideDown(400,"swing"))}),$(".dropdown-menu li a").on("click",function(e){e.preventDefault();var n=$(this).html(),t=$(this).parent().data("value");$(this).hasClass("btn-dropdown-close")||$(this).parent().parent().parent().parent().find(".btn-dropdown").html(n),$(this).parent().parent().parent().parent().removeClass("open").addClass("selected").attr("data-selected",t),$(this).parent().parent().parent().slideUp(400,"swing")}),$(".option .btn-delivery").on("click",function(e){e.preventDefault(),$(this).hasClass("open")?($(this).removeClass("open"),$(this).parent().find(".option-box").slideUp(400,"swing")):($(this).addClass("open"),$(this).parent().find(".option-box").slideDown(400,"swing"))}),$(".option .btn-choose").on("click",function(e){e.preventDefault(),$(".btn-delivery").removeClass("selected"),$(this).parent().parent().slideUp(400,"swing"),$(this).parent().parent().parent().find(".btn-delivery").removeClass("open").addClass("selected")}),$(".back-to-top").on("click",function(e){e.preventDefault(),$("html,body").animate({scrollTop:$("#top").offset().top},800,"swing")}),$(document).ready(function(){$(".alert").hide()}),$(".dropdown-select-country .dropdown-menu a").on("click",function(){var e=$(this).parent().data("value");"CA"==e?($(".state").hide(),$(".dropdown-us-states").hide(),$(".dropdown-canada-states").css({display:"inline-block"})):"US"==e?($(".state").hide(),$(".dropdown-canada-states").hide(),$(".dropdown-us-states").css({display:"inline-block"})):($(".state").css({display:"inline-block"}),$(".dropdown-canada-states").hide(),$(".dropdown-us-states").hide())}),$(".btn-confirm-order").click(function(n){if(n.preventDefault(),1==t()){$(".btn-confirm-order").hide(),$(".loader").show(100);var a=$("form").serialize(),i=$(".dropdown-select-card").data("selected"),s=$(".dropdown-select-country").data("selected"),r=$(".dropdown-select-credit-card").data("selected"),o=$(".dropdown-select-expiry-month").data("selected"),l=$(".dropdown-select-expiry-year").data("selected"),d="&destination="+i+"&country="+s+"&cc-type="+r+"&cc-exp-month="+o+"&cc-exp-year="+l;if("US"==s){var c=$(".dropdown-us-states").data("selected");a=a.replace(/&state=[^&]*/,""),a=a+"&stateUS="+c}if("CA"==s){var c=$(".dropdown-canada-states").data("selected");a=a.replace(/&state=[^&]*/,""),a=a+"&stateCanada="+c}$(".btn-email").hasClass("selected")&&(serializedDeliveryOption="&sendcardby=Email"),$(".btn-traditional-mail").hasClass("selected")&&(serializedDeliveryOption="&sendcardby=Post");var p=a+d+serializedDeliveryOption;$.ajax({url:homeUrl+"/forms/formProcessor.php",type:"POST",data:p,success:function(e){-1!=e.indexOf("work")&&(window.location.href="/thank-you")},error:function(n,t){$(".loader").hide(),$(".btn-confirm-order").show(),-1!=n.responseText.indexOf("work")?window.location.href="/thank-you":e("",n.responseText)}})}})});